# 상속

- 한 클래스의 특성을 다른 클래스가 물려받는다
- 중복 코드를 줄이고, 기존 클래스를 확장하여 새로운 기능을 추가할 수 있음

> Kotlin과 Java 모두 객체 지향의 핵심 원리인 상속을 지원한다.  
> 하지만 언어 설계 철학과 특징에 따라 몇가지 중요한 차이점이 있다. 알아보자.

## 1. 자바의 상속

- 기본적으로 모든 클래스가 상속이 가능함
- `final` 키워드를 통해 상속을 막을 수 있음
- 대표적으로 `System` 클래스가 있음

```java
public final class System {
    /* ... */
}
```

상속에는 여러가지 문제가 있는데, 아래에 추가로 정리해보았다.

### 1-1. 상속의 문제점

1. 부작용
   - 부모 클래스의 내부 구현이 변경될 경우, 이를 상속받은 자식 클래스에서 예기치 않은 side-effect 발생 가능(부모 클래스와 자식 클래스 간의 강력한 결합도 때문)
2. 캡슐화 위반
   - 상속을 사용하면 부모 클래스의 내부 구현에 자식 클래스가 의존하게 되어 캡슐화가 위반될 수 있음
   - 이로 인해 코드의 유지보수가 어려워질 수 있다 
3. 강제 다형성
   - 부모 클래스의 메서드를 자식 클래스에서 오버라이드할 때, 부모 클래스의 원래 의도와 다른 방식으로 메서드가 동작할 수 있음
   - 이는 실수로 이어질 수 있으며, 이로 인해 버그를 찾기 어려워 짐 
4. 유연성 감소
   - 상속은 클래스 간의 강력한 결합 생성(시스템의 유연성이 감소)
   - 코드를 변경하거나 확장하기 어려워질 수 있음

> 위와 같은 문제점들 때문에 상속 대신 합성(composition)과 인터페이스를 사용하는 것이 좋다고 `이펙티브자바`에서 이야기하고 있다

[이펙티브자바의 "상속을 고려해 설계하고 문서화하라. 그러지 않았다면 상속을 금지하라" item에 대해서는 따로 정리](https://github.com/back-end-study/effective-java/blob/main/4%EC%9E%A5_%ED%81%B4%EB%9E%98%EC%8A%A4%EC%99%80_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4/item19.md)했다.

> 결과적으로 상속을 목적으로 만든 클래스가 아니라면 모두 final로 작성하는 것이 좋다!
